<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>渠道经理即时激励预算计算器</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "微软雅黑", sans-serif;
        }
        body {
            background-color: #f5f5f5;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: #fff;
            border: 1px solid #ddd;
            padding: 25px;
        }
        .title {
            text-align: center;
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #e60000;
        }
        .scene-tab {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
        }
        .scene-btn {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
            cursor: pointer;
            background-color: #fff;
            font-weight: bold;
        }
        .scene-btn.active {
            background-color: #e60000;
            color: #fff;
            border-color: #e60000;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            font-size: 16px;
            margin-bottom: 8px;
            color: #333;
        }
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        .btn-calculate {
            width: 100%;
            padding: 15px;
            background-color: #0066cc;
            color: #fff;
            border: none;
            border-radius: 4px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 10px;
        }
        .result {
            margin-top: 25px;
            padding: 20px;
            background-color: #f5faff;
            border: 1px solid #cce5ff;
            border-radius: 4px;
            display: none;
        }
        .result h3 {
            color: #0066cc;
            margin-bottom: 15px;
        }
        .result p {
            font-size: 16px;
            line-height: 1.8;
        }
        .result .highlight {
            font-weight: bold;
            color: #e60000;
        }
        .reference-note {
            margin-top: 10px;
            font-size: 12px;
            color: #999;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">即时激励--预算计算器</div>
        <div class="scene-tab">
            <div class="scene-btn active" data-scene="new">全新用户</div>
            <div class="scene-btn" data-scene="old">非全新本网发展</div>
        </div>
        <div class="form-group">
            <label for="packagePrice">套餐金额（元）</label>
            <input type="number" id="packagePrice" value="129" min="0" placeholder="请输入套餐金额">
        </div>
        <div class="form-group">
            <label for="subCardNum">副卡数量</label>
            <input type="number" id="subCardNum" value="4" min="0" placeholder="请输入副卡数量">
        </div>
        <div class="form-group">
            <label>区域类型</label>
            <select id="areaType">
                <option value="市区">市区/县城</option>
                <option value="乡镇">乡镇</option>
            </select>
        </div>
        <div class="form-group">
            <label>星级选择</label>
            <select id="starLevel">
                <option value="五星">五星</option>
                <option value="四星">四星</option>
                <option value="三星">三星</option>
                <option value="二星">二星</option>
                <option value="一星">一星</option>
                <option value="无星">无星</option>
            </select>
        </div>
        <button class="btn-calculate" onclick="calculateIncentive()">计算激励金额</button>
        <div class="result" id="result">
            <h3>即时激励计算结果</h3>
            <p>场景类型：<span id="resScene"></span></p>
            <p>套餐金额：<span id="resPackagePrice"></span>元</p>
            <p>副卡数量：<span id="resSubCardNum"></span>张</p>
            <p>区域+星级系数：<span id="resSlopeFactor"></span></p>
            <p>发展折算量系数：<span id="resDevFactor"></span></p>
            <p>基础系数：<span id="resBaseFactor"></span></p>
            <p>基数合计：<span id="resBaseSum"></span></p>
            <p class="highlight">激励金额：<span id="resIncentive"></span>元</p>
            <div class="reference-note">本计算仅供参考</div>
        </div>
    </div>
    <script>
        const INCENTIVE_RULES = {
            cityUnit: 40,
            professionalFactor: 0.5,
            cityFactor: 1,
            sceneRules: {
                new: { packageFactor: 0.5, stickinessPerCard: 0.1 },
                old: { packageFactor: 0, stickinessPerCard: 0.05 }
            },
            slopeFactor: {
                "五星": { "市区": 1.8, "乡镇": 1.85 },
                "四星": { "市区": 1.6, "乡镇": 1.65 },
                "三星": { "市区": 1.4, "乡镇": 1.45 },
                "二星": { "市区": 1.2, "乡镇": 1.25 },
                "一星": { "市区": 1.1, "乡镇": 1.15 },
                "无星": { "市区": 1, "乡镇": 1 }
            },
            devFactorThreshold: 99
        };
        document.querySelectorAll('.scene-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.scene-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            });
        });
        function calculateIncentive() {
            const activeScene = document.querySelector('.scene-btn.active').dataset.scene;
            const packagePrice = parseFloat(document.getElementById('packagePrice').value) || 0;
            const subCardNum = parseInt(document.getElementById('subCardNum').value) || 0;
            const areaType = document.getElementById('areaType').value;
            const starLevel = document.getElementById('starLevel').value;
            const baseFactor = packagePrice / 100;
            const isNewScene = activeScene === 'new';
            const isPackageAboveThreshold = packagePrice > INCENTIVE_RULES.devFactorThreshold;
            const developmentFactor = (isNewScene && isPackageAboveThreshold) ? 1.2 : 1;
            let baseSum = 0;
            let sceneName = '';
            const sceneRule = INCENTIVE_RULES.sceneRules[activeScene];
            if (activeScene === 'new') {
                sceneName = '全新用户';
                const stickinessFactor = sceneRule.stickinessPerCard * subCardNum;
                baseSum = baseFactor * (1 + sceneRule.packageFactor + stickinessFactor);
            } else {
                sceneName = '非全新本网发展';
                const stickinessFactor = sceneRule.stickinessPerCard * subCardNum;
                baseSum = baseFactor * (1 + sceneRule.packageFactor + stickinessFactor);
            }
            const slopeFactor = INCENTIVE_RULES.slopeFactor[starLevel][areaType];
            const incentive = (INCENTIVE_RULES.cityUnit * baseSum * INCENTIVE_RULES.professionalFactor * INCENTIVE_RULES.cityFactor * developmentFactor * slopeFactor).toFixed(2);
            const resultEl = document.getElementById('result');
            document.getElementById('resScene').textContent = sceneName;
            document.getElementById('resPackagePrice').textContent = packagePrice;
            document.getElementById('resSubCardNum').textContent = subCardNum;
            document.getElementById('resSlopeFactor').textContent = slopeFactor;
            document.getElementById('resDevFactor').textContent = developmentFactor;
            document.getElementById('resBaseFactor').textContent = baseFactor.toFixed(2);
            document.getElementById('resBaseSum').textContent = baseSum.toFixed(4);
            document.getElementById('resIncentive').textContent = incentive;
            resultEl.style.display = 'block'; // 显示结果（原代码遗漏，已补充）
        }
    </script>
</body>
</html>